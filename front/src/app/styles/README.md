# Дизайн-система NSFN

## Обзор

Дизайн-система проекта NSFN построена на модульной системе тем с использованием CSS переменных и SCSS миксинов. Система поддерживает автоматическое переключение между светлой и темной темами, а также легкое добавление новых тем.

## Структура тем

Все темы организованы в папке `src/app/styles/themes/`:

```
themes/
├── _base.scss      # Базовые цвета и константы
├── _light.scss     # Светлая тема
├── _dark.scss      # Темная тема
├── _ocean.scss     # Пример дополнительной темы
└── _index.scss     # Импорт всех тем
```

## Базовые цвета

Базовые цвета определены в `_base.scss` и остаются неизменными для всех тем:

- `--color-primary`: #764ba2 (основной фиолетовый)
- `--color-primary-light`: #8b67c4
- `--color-primary-dark`: #563775
- `--color-secondary`: #667eea (синий)

## Семантические переменные

Каждая тема определяет свои семантические переменные:

### Фоны

- `--bg-primary`: основной фон страницы
- `--bg-secondary`: вторичный фон
- `--bg-tertiary`: третичный фон для карточек и панелей

### Текст

- `--text-primary`: основной цвет текста
- `--text-secondary`: вторичный цвет текста
- `--text-inverse`: инверсный цвет (для темных фонов)

### Границы и поверхности

- `--border-primary`: основной цвет границ
- `--surface-primary`: цвет основных поверхностей

## Специальные переменные для компонентов

### Сайдбар

- `--sidebar-bg`: фон сайдбара
- `--sidebar-bg-hover`: фон при наведении
- `--sidebar-text`: цвет текста в сайдбаре

### Карточки

- `--card-bg`: фон карточки
- `--card-bg-expanded`: фон развернутой карточки
- `--card-text`: цвет текста в карточке
- `--card-overlay`: overlay эффект

## Создание новой темы

1. Создайте новый файл в `themes/`, например `_purple.scss`:

```scss
@mixin purple-theme {
  --bg-primary: #1a1a2e;
  --bg-secondary: #16213e;
  --text-primary: #eee;

  --sidebar-bg: linear-gradient(180deg, #9b59b6 0%, #8e44ad 100%);
  --sidebar-text: #fff;

  --card-bg: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
  --card-text: #fff;

  // ... другие переменные
}
```

2. Импортируйте в `_index.scss`:

```scss
@use 'purple';
```

3. Добавьте в `variables.scss`:

```scss
[data-theme='purple'] {
  @include purple.purple-theme;
}
```

4. Обновите компонент `ThemeToggle` для поддержки новой темы.

## Переключение тем

Система поддерживает три режима:

- **light**: принудительная светлая тема
- **dark**: принудительная темная тема
- **system**: автоматическое переключение по системным настройкам

## Компоненты переключения

- `<ThemeToggle />`: полный переключатель с тремя опциями
- `<QuickThemeToggle />`: быстрое переключение одной кнопкой

## Использование в компонентах

```scss
.myComponent {
  background: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-primary);

  // Для специфичных компонентов
  .sidebar {
    background: var(--sidebar-bg);
    color: var(--sidebar-text);
  }

  .card {
    background: var(--card-bg);
    color: var(--card-text);
  }
}
```

## Преимущества модульной системы

✅ **Легкое добавление новых тем** - просто создайте новый миксин  
✅ **Четкое разделение** - каждая тема в отдельном файле  
✅ **Переиспользование** - общие базовые цвета  
✅ **Типизация** - поддержка автодополнения в IDE  
✅ **Производительность** - загружаются только нужные стили

## Отладка тем

Для отладки тем можно использовать dev tools браузера:

```javascript
// Смена темы программно
document.documentElement.setAttribute('data-theme', 'dark');

// Проверка текущей темы
document.documentElement.getAttribute('data-theme');
```
